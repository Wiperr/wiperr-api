<div class="bg-light lt b-b wrapper-md">
  <div class="row">
    <div class="col-sm-6 col-xs-12">
      <h1 class="m-n font-thin h3 text-black">Dashboard</h1>
    </div>
  </div>
</div>
<div class="hbox hbox-auto-xs hbox-auto-sm">
  <!-- main -->
  <div class="col">
    <!-- / main header -->
    <div class="wrapper-md">
      <!-- stats -->
      <div class="row">
        <div class="col-md-12">
          <div class="row row-sm text-center">
            <div class="col-xs-6">
              <div class="panel padder-v item card">
                <div class="h1 text-info font-thin h1">{{customers.list.length}}</div>
                <span class="text-muted text-xs">Total Customers</span>
                <div class="top text-right w-full">
                  <i class="fa fa-caret-down text-warning m-r-sm"></i>
                </div>
              </div>
            </div>
            <div class="col-xs-6">
              <a href class="block panel padder-v item card">
                <span class="text-success font-thin h1 block">{{bookings.count}}</span>
                <span class="text-muted text-xs">Total Bookings</span>
                <span class="bottom text-right w-full">
                  <i class="fa fa-cloud-upload text-success m-r-sm"></i>
                </span>
              </a>
            </div>
            <!--<div class="col-xs-6">
              <a href class="block panel padder-v item card">
                <span class="text-primary font-thin h1 block">432</span>
                <span class="text-muted text-xs">Comments</span>
                <span class="top text-left">
                  <i class="fa fa-caret-up text-warning m-l-sm"></i>
                </span>
              </a>
            </div>
            <div class="col-xs-6">
              <div class="panel padder-v item card">
                <div class="font-thin h1">129</div>
                <span class="text-muted text-xs">Feeds</span>
                <div class="bottom text-left">
                  <i class="fa fa-caret-up text-warning m-l-sm"></i>
                </div>
              </div>
            </div>-->
            <!--<div class="col-xs-12 m-b-md">
              <div class="r blue-600 item hbox no-border md-whiteframe-z0">
                <div class="col w-xs v-middle hidden-md">
                  <div ng-init="data1=[60,40]" ui-jq="sparkline" ui-options="{{data1}}, {type:'pie', height:40, sliceColors:['{{app.color.warning}}','#fff']}" class="sparkline inline"></div>
                </div>
                <div class="col blue padder-v r-r">
                  <div class="font-thin h1"><span>In Development</span></div>
                  <span class="text-xs">Revenue</span>
                </div>
              </div>
            </div>-->
          </div>
        </div>
        <!--<div class="col-md-7">
          <div class="panel wrapper">
            <label class="i-switch bg-warning pull-right" ng-init="showSpline=true">
              <input type="checkbox" ng-model="showSpline">
              <i></i>
            </label>
            <h4 class="font-thin m-t-none m-b text-muted">Revenue Analytics</h4>
            <div ui-jq="plot" ui-refresh="showSpline" ui-options="
              [
                { data: {{d0_1}}, label: 'Unique Visits', points: { show: true } },
                { data: {{d0_2}}, label: 'Page Views', bars: { show: true, barWidth: 0.6, fillColor: { colors: [{ opacity: 0.2 }, { opacity: 0.4}] } } }
              ],
              {
                colors: [ '{{app.color.success}}','{{app.color.info}}' ],
                series: { shadowSize: 2 },
                xaxis:{ font: { color: '#ccc' } },
                yaxis:{ font: { color: '#ccc' } },
                grid: { hoverable: true, clickable: true, borderWidth: 0, color: '#ccc' },
                tooltip: true,
                tooltipOpts: { content: '%s of %x.1 is %y.4',  defaultTheme: false, shifts: { x: 0, y: 20 } }
              }
            " style="height:252px" >
            </div>
          </div>
        </div>-->
      </div>
      <!-- / stats -->

      <!-- service
      <div class="panel hbox hbox-auto-xs no-border">
        <div class="col wrapper">
          <i class="fa fa-circle-o text-info m-r-sm pull-right"></i>
          <h4 class="font-thin m-t-none m-b-none text-primary-lt">Managed Services</h4>
          <span class="m-b block text-sm text-muted">Service report of this year (updated 1 hour ago)</span>
          <div ui-jq="plot" ui-options="
            [
              { data: {{d4}}, lines: { show: true, lineWidth: 1, fill:true, fillColor: { colors: [{opacity: 0.2}, {opacity: 0.8}] } } }
            ],
            {
              colors: ['{{app.color.light}}'],
              series: { shadowSize: 3 },
              xaxis:{ show:false },
              yaxis:{ font: { color: '#a1a7ac' } },
              grid: { hoverable: true, clickable: true, borderWidth: 0, color: '#dce5ec' },
              tooltip: true,
              tooltipOpts: { content: '%s of %x.1 is %y.4',  defaultTheme: false, shifts: { x: 10, y: -25 } }
            }
          " style="height:240px" >
          </div>
        </div>
        <div class="col wrapper-lg w-lg bg-light dk r-r">
          <h4 class="font-thin m-t-none m-b">Reports</h4>
          <div class="">
            <div class="">
              <span class="pull-right text-primary">60%</span>
              <span>Consulting</span>
            </div>
            <progressbar value="60" class="progress-xs m-t-sm bg-white" animate="true" type="primary"></progressbar>
            <div class="">
              <span class="pull-right text-info">35%</span>
              <span>Online tutorials</span>
            </div>
            <progressbar value="35" class="progress-xs m-t-sm bg-white" animate="true" type="info"></progressbar>
            <div class="">
              <span class="pull-right text-warning">25%</span>
              <span>EDU management</span>
            </div>
            <progressbar value="25" class="progress-xs m-t-sm bg-white" animate="true" type="warning"></progressbar>
          </div>
          <p class="text-muted">Dales nisi nec adipiscing elit. Morbi id neque quam. Aliquam sollicitudin venenatis</p>
        </div>
      </div>
      <!-- / service -->

      <!-- latest bookings
      <div class="panel wrapper">
        <div class="row">
          <div class="col-md-6 b-r b-light no-border-xs">
            <a href class="text-muted pull-right text-lg"><i class="icon-arrow-right"></i></a>
            <h4 class="font-thin m-t-none m-b-md text-muted">Latest Bookings</h4>
            <div class=" m-b">
              <div class="m-b">
                <span class="label text-base bg-warning pos-rlt m-r"><i class="arrow right arrow-warning"></i> 19:30</span>
                <a href>Feed cat</a>
              </div>
              <div class="m-b">
                <span class="label text-base bg-info pos-rlt m-r"><i class="arrow right arrow-info"></i> 12:30</span>
                <a href>Fishing Time</a>
              </div>
              <div class="m-b">
                <span class="label text-base bg-primary pos-rlt m-r"><i class="arrow right arrow-primary"></i> 10:30</span>
                <a href>Kick-off meeting</a>
              </div>
              <div class="m-b">
                <span class="label text-base bg-light pos-rlt m-r"><i class="arrow right arrow-light"></i> 07:30</span>
                <a href>Morning running</a>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row row-sm">
              <div class="col-xs-6 text-center">
                <div ui-jq="easyPieChart" ui-options="{
                    percent: 75,
                    lineWidth: 4,
                    trackColor: '{{app.color.light}}',
                    barColor: '{{app.color.primary}}',
                    scaleColor: false,
                    size: 115,
                    rotate: 90,
                    lineCap: 'butt'
                  }" class="inline m-t">
                  <div>
                    <span class="text-primary h4">75%</span>
                  </div>
                </div>
                <div class="text-muted font-bold text-xs m-t m-b">Work Done</div>
              </div>
              <div class="col-xs-6 text-center">
                <div ui-jq="easyPieChart" ui-options="{
                    percent: 50,
                    lineWidth: 4,
                    trackColor: '{{app.color.light}}',
                    barColor: '{{app.color.info}}',
                    scaleColor: false,
                    size: 115,
                    rotate: 180,
                    lineCap: 'butt'
                  }" class="inline m-t">
                  <div>
                    <span class="text-info h4">50%</span>
                  </div>
                </div>
                <div class="text-muted font-bold text-xs m-t m-b">Started</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- / latest bookings -->

      <!-- tasks -->
      <div class="panel panel-default" ng-if="bookings.list.length > 0 && bookings.show">
        <div class="panel-heading">Booking Details</div>
        <div class="panel-body">
          <form>
            <label>Number of bookings to show per page</label>
            <input class="input-sm form-control" name="items" id="items" type="number" ng-model="bookings.perPage" >
          </form>
        </div>
        <table st-table="bookings.list" class="table table-striped">
          <thead>
          <tr>
            <th st-sort="customer.firstName">Customer Name</th>
            <th st-sort="email">Email</th>
            <th st-sort="customer.phoneNumber">Phone Number</th>
            <th st-sort="lastName">Service Title</th>
            <th st-sort="birthDate">Time Slot</th>
            <th st-sort="price">Price</th>
           <!-- <th>Actions</th>-->
            <th>Invoice</th>
          </tr>
          <!--<tr>
            <th>
              <input st-search="'customer.firstName'" placeholder="Search for Customer Name" class="input-sm form-control" type="search"/>
            </th>
            <th colspan="4">
              <input st-search placeholder="Global Search" class="input-sm form-control" type="search"/>
            </th>
          </tr>-->
          </thead>


          <tbody>
          <tr ng-repeat="booking in bookings.list | orderBy:'-timeSlot'">
            <td>{{booking.customer.firstName | uppercase}}</td>
            <td>{{booking.customer.email}}</td>
            <td>{{booking.customer.phoneNumber}}</td>
            <td>{{booking.service.category}}</td>
            <td>{{booking.timeSlot}}</td>
            <td>{{booking._payment.amount}}</td>
            <!--<td>
              <button type="button" ng-click="bookings.removeBooking(booking, $index)" class="btn btn-xs btn-warning">
                <i class="fa fa-trash"></i>
              </button>
            </td>-->
            <td><a class="btn btn-info btn-xs" ui-sref='app.invoice({bookingId: "{{booking.id}}", discount: discountAmount})'>
              <i class="fa fa-envelope-square"> Create Invoice</i>
            </a>
            </td>
          </tr>
          <tr>
            <td colspan="6" class="text-right no-border">
              <label>Discount value</label>
            </td>
            <td><input class="input-sm form-control" id="discAmount" type="text" ng-model="discountAmount" ng-init="0"/></td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="5" class="text-center">
              <div st-pagination="" st-items-by-page="bookings.perPage" st-displayed-pages="7" class="no-margin"></div>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
      <!-- / tasks -->

      <!-- tasks -->
      <div class="panel panel-default" ng-if="mailingList.show">
        <div class="panel-heading">Mailing Details</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-2">
              <button type="button" ng-click="mailingList.addMailer()" class="btn btn-sm btn-success">
                <i class="glyphicon glyphicon-plus">
                </i> Add Mailer
              </button>
            </div>
            <div class="col-md-4">
              <input class="input-sm form-control" name="email" id="email" type="text" ng-model="mailingList.email" />
            </div>
          </div>
        </div>
        <table st-table="mailingList.list" class="table table-striped">
          <thead>
          <tr>
            <th st-sort="email">Email</th>
            <th st-sort="category">Category</th>
            <th>Actions</th>
          </tr>
          <!--<tr>
            <th>
              <input st-search="'customer.firstName'" placeholder="Search for Customer Name" class="input-sm form-control" type="search"/>
            </th>
            <th colspan="4">
              <input st-search placeholder="Global Search" class="input-sm form-control" type="search"/>
            </th>
          </tr>-->
          </thead>
          <tbody>
          <tr ng-repeat="mailer in mailingList.list">
            <td>{{mailer.email}}</td>
            <td>{{mailer.category}}</td>
            <td>
              <button type="button" ng-click="mailingList.removeMailer(mailer, $index)" class="btn btn-xs btn-default">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="5" class="text-center">
              <div st-pagination="" st-items-by-page="mailingList.perPage" st-displayed-pages="7" class="no-margin"></div>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
      <!-- / tasks -->

      <!-- tasks -->
      <div class="panel panel-default" ng-if="coupons.show">
        <div class="panel-heading">Coupon Details</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-2">
              <button type="button" ng-click="coupons.addCoupon()" class="btn btn-sm btn-success">
                <i class="glyphicon glyphicon-plus">
                </i> Add Coupon
              </button>
            </div>
            <div class="col-md-4">
              <input class="input-sm form-control" name="couponCode" id="couponCode" type="text" ng-model="coupons.code" />
            </div>
            <div class="col-md-4">
              <input class="input-sm form-control" name="couponDiscount" id="couponDiscount" type="text" ng-model="coupons.discount" />
            </div>
          </div>
        </div>
        <table st-table="coupons.list" class="table table-striped">
          <thead>
          <tr>
            <th st-sort="code">Code</th>
            <th st-sort="discount">Discount</th>
            <th>Actions</th>
          </tr>
          <!--<tr>
            <th>
              <input st-search="'customer.firstName'" placeholder="Search for Customer Name" class="input-sm form-control" type="search"/>
            </th>
            <th colspan="4">
              <input st-search placeholder="Global Search" class="input-sm form-control" type="search"/>
            </th>
          </tr>-->
          </thead>
          <tbody>
          <tr ng-repeat="coupon in coupons.list">
            <td>{{coupon.code}}</td>
            <td>{{coupon.discount}} %</td>
            <td>
              <button type="button" ng-click="coupons.removeCoupon(coupon, $index)" class="btn btn-xs btn-default">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="5" class="text-center">
              <div st-pagination="" st-items-by-page="coupons.perPage" st-displayed-pages="7" class="no-margin"></div>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
      <!-- / tasks -->

      <!-- tasks -->
      <div class="panel panel-default" ng-if="callRequests.list.length > 0 && callRequests.show">
        <div class="panel-heading">Call Request Details</div>
        <table st-table="callRequests.list" class="table table-striped">
          <thead>
          <tr>
            <th st-sort="email">Name</th>
            <th st-sort="category">Phone Number</th>
            <th>Followed up</th>
            <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="request in callRequests.list">
            <td>{{request.name}}</td>
            <td>{{request.phoneNumber}}</td>
            <td>{{request.followed}}</td>
            <td>
              <button type="button" ng-click="callRequests.updateRequest(request, $index)" class="btn btn-xs btn-default" ng-if="!request.followed">
                <i class="fa fa-check"></i>
              </button>
              <button type="button" ng-click="callRequests.removeRequest(request, $index)" class="btn btn-xs btn-default">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="5" class="text-center">
              <div st-pagination="" st-items-by-page="mailingList.perPage" st-displayed-pages="7" class="no-margin"></div>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
      <!-- / tasks -->

      <!-- Robin view -->
      <!-- Customer Details-->
      <div class="panel panel-default" ng-if="customers.list.length > 0 && customers.show">
        <div class="panel-heading">Customer Details</div>
        <div class="panel-body">
          <form>
            <label>Number of customer to show per page</label>
            <input class="input-sm form-control" name="custView" id="custView" type="number" ng-model="customers.perPage" >
          </form>
        </div>
        <div class="panel-body">
          <label>View Lead by lead status</label>
          <select ng-model="viewLead" ng-options="x for x in leads">
          </select>
        </div>
        <table st-table="customers.list" class="table table-striped">
          <thead>
          <tr>
            <th>View Bookings</th>
            <th st-sort="customer.firstName">Customer Name</th>
            <th st-sort="email">Email</th>
            <th st-sort="customer.phoneNumber">Phone Number</th>
            <th>Lead</th>
            <th>Update Lead</th>
          </tr>
          <!--<tr>
            <th>
              <input st-search="'customer.firstName'" placeholder="Search for Customer Name" class="input-sm form-control" type="search"/>
            </th>
            <th colspan="4">
              <input st-search placeholder="Global Search" class="input-sm form-control" type="search"/>
            </th>
          </tr>-->
         </thead>
          <tbody>
          <tr ng-repeat-start="customer in customers.list" ng-if="customer.lead == viewLead">
            <td>
              <button ng-if="customer.expanded" ng-click="customer.expanded=false">-</button>
              <button ng-if="!customer.expanded" ng-click="customer.expanded=true">+</button>
            </td>
            <td>{{customer.firstName | uppercase}}</td>
            <td>{{customer.email}}</td>
            <td>{{customer.phoneNumber}}</td>
            <td>{{customer.lead}}</td>
            <td><select ng-model="selectedLead" ng-options="x for x in leads" ng-change="selectedItemChanged(selectedLead,customer.id)">
            </select></td>
          <!-- <td ng-if="customer.expanded">

              <table st-table="bookings.list" class="table table-striped">
                <thead>

                </thead>
                <tbody>
                <tr ng-repeat="booking in bookings.list" ng-if="booking.customerId==customer.id">
                  <td>{{booking.service.category}}</td>
                  <td>{{booking.timeSlot}}</td>
                </tr>
                </tbody>
              </table>
            </td>-->
          </tr>
          <tr ng-if="customer.expanded" ng-repeat-end="">
            <td>
              <table st-table="bookings.list" class="table table-striped">
                <thead>

                </thead>
                <tbody>
                <tr ng-repeat="booking in bookings.list" ng-if="booking.customerId==customer.id">
                  <td colspan="2">{{booking.service.category}}</td>
                  <td colspan="2">{{booking.timeSlot}}</td>
                </tr>
                </tbody>
              </table>
            </td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="5" class="text-center">
              <div st-pagination="" st-items-by-page="customers.perPage" st-displayed-pages="7" class="no-margin"></div>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
      <!-- Customer Details End -->
      <!-- / Robin view -->
    </div>
  </div>

</div>
